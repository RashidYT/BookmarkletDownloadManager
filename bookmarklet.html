<a href="javascript:(function()%7Bvar%20downloadmanager_html%20%3D%20%22PHN0eWxlPgo6cm9vdCB7CiAgICAtLWRvd25sb2FkbWFuYWdlcl93aWR0aDogNTAwcHg7CiAgICAtLWRvd25sb2FkbWFuYWdlcl9oZWlnaHQ6IDQwMHB4Owp9CgouZG93bmxvYWRtYW5hZ2VyLW15ZGl2IHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgei1pbmRleDogOTsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjFmMWYxOwogIGJvcmRlcjogM3B4IHNvbGlkICMyMTk2RjM7CiAgd2lkdGg6IHZhcigtLWRvd25sb2FkbWFuYWdlcl93aWR0aCk7CiAgaGVpZ2h0OiB2YXIoLS1kb3dubG9hZG1hbmFnZXJfaGVpZ2h0KTsKfQoKLmRvd25sb2FkbWFuYWdlci1teWRpdiAuYm9keSB7CiAgcGFkZGluZzogMTZweDsKICBvdmVyZmxvdzogZmxleDsKfQoKLmRvd25sb2FkbWFuYWdlci1teWRpdiAuYm9keSBwIHsKICBtYXJnaW46IDA7Cn0KCi5kb3dubG9hZG1hbmFnZXItbXlkaXZoZWFkZXIgewogIHBhZGRpbmc6IDdweDsKICBjdXJzb3I6IG1vdmU7CiAgei1pbmRleDogMTA7CiAgYmFja2dyb3VuZC1jb2xvcjogIzIxOTZGMzsKICBjb2xvcjogI2ZmZjsKICBtYXJnaW46IDA7Cn0KCi5kb3dubG9hZG1hbmFnZXItbXlkaXZoZWFkZXIgLnRpdGxlIHsKICAgIHRleHQtYWxpZ246IGxlZnQ7Cn0KCi5kb3dubG9hZG1hbmFnZXItbXlkaXZoZWFkZXIgLmNsb3NlIHsKICAgIGZsb2F0OiByaWdodDsKICAgIGJhY2tncm91bmQtY29sb3I6ICMyMTk2RjM7CiAgICBjb2xvcjogd2hpdGU7CiAgICBib3JkZXI6IG91dHNldCAjMjE5NkYzIDJweDsKICAgIGN1cnNvcjogcG9pbnRlcjsKfQoKLmRvd25sb2FkbWFuYWdlci1teWRpdmhlYWRlciAuY2xvc2U6YWN0aXZlIHsKICAgIGJvcmRlci1zdHlsZTogaW5zZXQ7Cn0KCi5kb3dubG9hZG1hbmFnZXItY29udGFpbmVyIHsKICAgIGRpc3BsYXk6IGZsZXg7IC8qIEFjdGl2YXRlcyBGbGV4Ym94IG9uIHRoZSBwYXJlbnQgKi8KICAgIGdhcDogMjBweDsgICAgIC8qIEFkZHMgc3BhY2UgYmV0d2VlbiB0aGUgY2hpbGQgZGl2cyAqLwogICAgaGVpZ2h0OiBjYWxjKHZhcigtLWRvd25sb2FkbWFuYWdlcl93aWR0aCkgLSAxNzBweCk7Cn0KCi5kb3dubG9hZG1hbmFnZXItbGVmdC1kaXYsIC5kb3dubG9hZG1hbmFnZXItcmlnaHQtZGl2IHsKICAgIGZsZXg6IDE7IC8qIE1ha2VzIGJvdGggZGl2cyBncm93IGVxdWFsbHkgdG8gZmlsbCB0aGUgY29udGFpbmVyIHdpZHRoICovCiAgICAvKiBPcHRpb25hbCBzdHlsaW5nICovCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjBmMGYwOwogICAgYm9yZGVyOiAxcHggc29saWQgI2NjYzsKICAgIG92ZXJmbG93OiBhdXRvOwp9CgouZG93bmxvYWRtYW5hZ2VyLWZpbGUgewogICAgcGFkZGluZzogMTZweDsKICAgIGJhY2tncm91bmQtY29sb3I6ICNhZGFkYWQ7CiAgICBjb2xvcjogd2hpdGU7CiAgICBjdXJzb3I6IHBvaW50ZXI7Cn0KCi5kb3dubG9hZG1hbmFnZXItZmlsZS1pbWFnZSB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMCwgMjU1LCAxMjgpOwp9CgouZG93bmxvYWRtYW5hZ2VyLWZpbGUtdmlkZW8gewogICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDE3MywgMCwgMCk7Cn0KCi5kb3dubG9hZG1hbmFnZXItY29udGFpbmVyIGRpdiB7CiAgICAvKiBUbyBjZW50ZXIgY29udGVudCB2ZXJ0aWNhbGx5IGFuZCBob3Jpem9udGFsbHkgd2l0aGluIHRoZSBzcGxpdHMgKi8KICAgIGRpc3BsYXk6IGZsZXg7CiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyAgICAKfQo8L3N0eWxlPgo8ZGl2IGNsYXNzPSJkb3dubG9hZG1hbmFnZXItbXlkaXYiIGlkPSJkb3dubG9hZG1hbmFnZXJ3aW5kb3ciIHN0eWxlPSJ0b3A6IDBweDtsZWZ0OiAwcHg7Ij4KICA8ZGl2IGNsYXNzPSJkb3dubG9hZG1hbmFnZXItbXlkaXZoZWFkZXIiIGlkPSJkb3dubG9hZG1hbmFnZXJ3aW5kb3doZWFkZXIiPgogICAgPHNwYW4gY2xhc3M9InRpdGxlIj5Cb29rbWFya2xldCBEb3dubG9hZCBNYW5hZ2VyPC9zcGFuPgogICAgPGJ1dHRvbiBjbGFzcz0iY2xvc2UiIGlkPSJkb3dubG9hZG1hbmFnZXItY2xvc2UiIG9uY2xpY2s9IgogICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkb3dubG9hZG1hbmFnZXJfZGl2JykpIHsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZG93bmxvYWRtYW5hZ2VyX2RpdicpLnJlbW92ZSgpCiAgICB9CiAgICAiPlg8L2J1dHRvbj4KICA8L2Rpdj4KICA8ZGl2IGNsYXNzPSJib2R5Ij4KICAgIDxkaXYgY2xhc3M9ImRvd25sb2FkbWFuYWdlci1jb250YWluZXIiPgogICAgICAgIDxkaXYgY2xhc3M9ImRvd25sb2FkbWFuYWdlci1sZWZ0LWRpdiIgaWQ9ImRvd25sb2FkbWFuYWdlcl9maWxlcyI%2BCiAgICAgICAgPC9kaXY%2BCiAgICAgICAgPGRpdiBjbGFzcz0iZG93bmxvYWRtYW5hZ2VyLXJpZ2h0LWRpdiIgaWQ9ImRvd25sb2FkbWFuYWdlcl9wcmV2aWV3Ij4KICAgICAgICAgICAgPCEtLSBDb250ZW50IGZvciB0aGUgcmlnaHQgc2VjdGlvbiAtLT4KICAgICAgICAgICAgPGgyPlJpZ2h0IFNpZGU8L2gyPgogICAgICAgICAgICA8cD5UaGlzIGRpdiBpcyBvbiB0aGUgcmlnaHQuPC9wPgogICAgICAgIDwvZGl2PgogICAgPC9kaXY%2BCiAgPC9kaXY%2BCjwvZGl2Pgo8aW1nIHNyYz0iL2Rvd25sb2FkbWFuYWdlci9pbWcvMXgxLnBuZyIgYWx0PSJUcmFuc3BhcmVudCBwaXhlbCIgb25sb2FkPSIKdmFyIGFsbGltYWdlZWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbWcnKQp2YXIgYWxsdmlkZW9lbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3ZpZGVvJykKCi8vIHRoaXMgc2NyaXB0IGlzIGZyb20gdzNzY2hvb2xzLmNvbQoKZnVuY3Rpb24gZHJhZ0VsZW1lbnQoZWxtbnQpIHsKICB2YXIgcG9zMSA9IDAsIHBvczIgPSAwLCBwb3MzID0gMCwgcG9zNCA9IDA7CiAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsbW50LmlkICsgJ2hlYWRlcicpKSB7CiAgICAvKiBpZiBwcmVzZW50LCB0aGUgaGVhZGVyIGlzIHdoZXJlIHlvdSBtb3ZlIHRoZSBESVYgZnJvbToqLwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxtbnQuaWQgKyAnaGVhZGVyJykub25tb3VzZWRvd24gPSBkcmFnTW91c2VEb3duOwogIH0gZWxzZSB7CiAgICAvKiBvdGhlcndpc2UsIG1vdmUgdGhlIERJViBmcm9tIGFueXdoZXJlIGluc2lkZSB0aGUgRElWOiovCiAgICBlbG1udC5vbm1vdXNlZG93biA9IGRyYWdNb3VzZURvd247CiAgfQoKICBmdW5jdGlvbiBkcmFnTW91c2VEb3duKGUpIHsKICAgIGUgPSBlIHx8IHdpbmRvdy5ldmVudDsKICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgIC8vIGdldCB0aGUgbW91c2UgY3Vyc29yIHBvc2l0aW9uIGF0IHN0YXJ0dXA6CiAgICBwb3MzID0gZS5jbGllbnRYOwogICAgcG9zNCA9IGUuY2xpZW50WTsKICAgIGRvY3VtZW50Lm9ubW91c2V1cCA9IGNsb3NlRHJhZ0VsZW1lbnQ7CiAgICAvLyBjYWxsIGEgZnVuY3Rpb24gd2hlbmV2ZXIgdGhlIGN1cnNvciBtb3ZlczoKICAgIGRvY3VtZW50Lm9ubW91c2Vtb3ZlID0gZWxlbWVudERyYWc7CiAgfQoKICBmdW5jdGlvbiBlbGVtZW50RHJhZyhlKSB7CiAgICBlID0gZSB8fCB3aW5kb3cuZXZlbnQ7CiAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAvLyBjYWxjdWxhdGUgdGhlIG5ldyBjdXJzb3IgcG9zaXRpb246CiAgICBwb3MxID0gcG9zMyAtIGUuY2xpZW50WDsKICAgIHBvczIgPSBwb3M0IC0gZS5jbGllbnRZOwogICAgcG9zMyA9IGUuY2xpZW50WDsKICAgIHBvczQgPSBlLmNsaWVudFk7CiAgICAvLyBzZXQgdGhlIGVsZW1lbnRzIG5ldyBwb3NpdGlvbjoKICAgIGVsbW50LnN0eWxlLnRvcCA9IChlbG1udC5vZmZzZXRUb3AgLSBwb3MyKSArICdweCc7CiAgICBlbG1udC5zdHlsZS5sZWZ0ID0gKGVsbW50Lm9mZnNldExlZnQgLSBwb3MxKSArICdweCc7CiAgfQoKICBmdW5jdGlvbiBjbG9zZURyYWdFbGVtZW50KCkgewogICAgLyogc3RvcCBtb3Zpbmcgd2hlbiBtb3VzZSBidXR0b24gaXMgcmVsZWFzZWQ6Ki8KICAgIGRvY3VtZW50Lm9ubW91c2V1cCA9IG51bGw7CiAgICBkb2N1bWVudC5vbm1vdXNlbW92ZSA9IG51bGw7CiAgfQp9CmRyYWdFbGVtZW50KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkb3dubG9hZG1hbmFnZXJ3aW5kb3cnKSk7CgovLyBpbWFnZXMKZm9yIChsZXQgaSA9IDA7IGkgPCBhbGxpbWFnZWVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICBjb25zdCBmaWxlYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpCgogICAgZmlsZWJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdkb3dubG9hZG1hbmFnZXItZmlsZScpCiAgICBmaWxlYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2Rvd25sb2FkbWFuYWdlci1maWxlLWltYWdlJykKICAgIGZpbGVidXR0b24uaW5uZXJIVE1MID0gYWxsaW1hZ2VlbGVtZW50c1tpXS5zcmMKICAgIGZpbGVidXR0b24uc2V0QXR0cmlidXRlKCdvbmNsaWNrJywgYAoKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkb3dubG9hZG1hbmFnZXJfcHJldmlldycpLmlubmVySFRNTCA9ICcnOwogICAgY29uc3QgcGljdHVyZXZpZXdlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpOwogICAgcGljdHVyZXZpZXdlci5zZXRBdHRyaWJ1dGUoJ3NyYycsICcke2FsbGltYWdlZWxlbWVudHNbaV0uc3JjfScpOwogICAgcGljdHVyZXZpZXdlci53aWR0aCA9IDIwMDsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkb3dubG9hZG1hbmFnZXJfcHJldmlldycpLmFwcGVuZENoaWxkKHBpY3R1cmV2aWV3ZXIpOwoKICAgIGApCiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZG93bmxvYWRtYW5hZ2VyX2ZpbGVzJykuYXBwZW5kQ2hpbGQoZmlsZWJ1dHRvbikKfQoKLy8gdmlkZW9zCmZvciAobGV0IGkgPSAwOyBpIDwgYWxsdmlkZW9lbGVtZW50cy5sZW5ndGg7IGkrKykgewogICAgY29uc3QgZmlsZWJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKQoKICAgIGZpbGVidXR0b24uY2xhc3NMaXN0LmFkZCgnZG93bmxvYWRtYW5hZ2VyLWZpbGUnKQogICAgZmlsZWJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdkb3dubG9hZG1hbmFnZXItZmlsZS12aWRlbycpCiAgICBmaWxlYnV0dG9uLmlubmVySFRNTCA9IGFsbHZpZGVvZWxlbWVudHNbaV0uc3JjCiAgICBmaWxlYnV0dG9uLnNldEF0dHJpYnV0ZSgnb25jbGljaycsIGAKCiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZG93bmxvYWRtYW5hZ2VyX3ByZXZpZXcnKS5pbm5lckhUTUwgPSAnJzsKICAgIGNvbnN0IHZpZGVvcGxheWVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKTsKCiAgICB2aWRlb3BsYXllci5zZXRBdHRyaWJ1dGUoJ3NyYycsICcke2FsbHZpZGVvZWxlbWVudHNbaV0uc3JjfScpOwogICAgdmlkZW9wbGF5ZXIud2lkdGggPSAyMDA7CiAgICB2aWRlb3BsYXllci5oZWlnaHQgPSAyMDA7CiAgICB2aWRlb3BsYXllci5jb250cm9scyA9IHRydWU7CgogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rvd25sb2FkbWFuYWdlcl9wcmV2aWV3JykuYXBwZW5kQ2hpbGQodmlkZW9wbGF5ZXIpOwogICAgCiAgICBgKQogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rvd25sb2FkbWFuYWdlcl9maWxlcycpLmFwcGVuZENoaWxkKGZpbGVidXR0b24pCn0KCi8qCmZ1bmN0aW9uIHNob3dpbWFnZSh1cmwpIHsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkb3dubG9hZG1hbmFnZXJfcHJldmlldycpLmlubmVySFRNTCA9ICcnOwogICAgdmFyIHBpY3R1cmV2aWV3ZXIgPSBkb2N1bWVudC5jcmVhdGVBdHRyaWJ1dGUoJ2ltZycpOwoKICAgIHBpY3R1cmV2aWV3ZXIuc3JjID0gdXJsOwogICAgcGljdHVyZXZpZXdlci5zdHlsZS53aWR0aCA9ICcyMDBweCcKCiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZG93bmxvYWRtYW5hZ2VyX3ByZXZpZXcnKS5hcHBlbmRDaGlsZChwaWN0dXJldmlld2VyKTsKfQoqLwoKZnVuY3Rpb24gc2hvd3ZpZGVvKHVybCkgewogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rvd25sb2FkbWFuYWdlcl9wcmV2aWV3JykuaW5uZXJIVE1MID0gJyc7CiAgICBjb25zdCB2aWRlb3BsYXllciA9IGRvY3VtZW50LmNyZWF0ZUF0dHJpYnV0ZSgndmlkZW8nKTsKCiAgICB2aWRlb3BsYXllci5zcmMgPSB1cmw7CiAgICB2aWRlb3BsYXllci5zdHlsZS53aWR0aCA9IDIwMCArICdweCc7CiAgICB2aWRlb3BsYXllci5zdHlsZS5oZWlnaHQgPSAyMDAgKyAncHgnOwoKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkb3dubG9hZG1hbmFnZXJfcHJldmlldycpLmFwcGVuZENoaWxkKHZpZGVvcGxheWVyKTsKfQoiPgoK%22%3B%0A%0Avar%20downloadmanager_div%20%3D%20document.createElement(%22div%22)%3B%0Adownloadmanager_div.id%20%3D%20%22downloadmanager_div%22%3B%0Adownloadmanager_div.innerHTML%20%3D%20atob(downloadmanager_html)%3B%0Adocument.body.appendChild(downloadmanager_div)%3B%7D)()%3B">Bookmarklet Download Manager</a>
