<a href="javascript:(function()%7Bvar%20downloadmanager_html%20%3D%20%22PHN0eWxlPgo6cm9vdCB7CiAgICAtLWRvd25sb2FkbWFuYWdlcl93aWR0aDogNTAwcHg7CiAgICAtLWRvd25sb2FkbWFuYWdlcl9oZWlnaHQ6IDQwMHB4Owp9CgouZG93bmxvYWRtYW5hZ2VyLW15ZGl2IHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgei1pbmRleDogOTsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjFmMWYxOwogIGJvcmRlcjogM3B4IHNvbGlkICMyMTk2RjM7CiAgd2lkdGg6IHZhcigtLWRvd25sb2FkbWFuYWdlcl93aWR0aCk7CiAgaGVpZ2h0OiB2YXIoLS1kb3dubG9hZG1hbmFnZXJfaGVpZ2h0KTsKfQoKLmRvd25sb2FkbWFuYWdlci1teWRpdiAuYm9keSB7CiAgcGFkZGluZzogMTZweDsKICBvdmVyZmxvdzogZmxleDsKfQoKLmRvd25sb2FkbWFuYWdlci1teWRpdiAuYm9keSBwIHsKICBtYXJnaW46IDA7Cn0KCi5kb3dubG9hZG1hbmFnZXItbXlkaXZoZWFkZXIgewogIHBhZGRpbmc6IDdweDsKICBjdXJzb3I6IG1vdmU7CiAgei1pbmRleDogMTA7CiAgYmFja2dyb3VuZC1jb2xvcjogIzIxOTZGMzsKICBjb2xvcjogI2ZmZjsKICBtYXJnaW46IDA7Cn0KCi5kb3dubG9hZG1hbmFnZXItbXlkaXZoZWFkZXIgLnRpdGxlIHsKICAgIHRleHQtYWxpZ246IGxlZnQ7Cn0KCi5kb3dubG9hZG1hbmFnZXItbXlkaXZoZWFkZXIgLmNsb3NlIHsKICAgIGZsb2F0OiByaWdodDsKICAgIGJhY2tncm91bmQtY29sb3I6ICMyMTk2RjM7CiAgICBjb2xvcjogd2hpdGU7CiAgICBib3JkZXI6IG91dHNldCAjMjE5NkYzIDJweDsKICAgIGN1cnNvcjogcG9pbnRlcjsKfQoKLmRvd25sb2FkbWFuYWdlci1teWRpdmhlYWRlciAuY2xvc2U6YWN0aXZlIHsKICAgIGJvcmRlci1zdHlsZTogaW5zZXQ7Cn0KCi5kb3dubG9hZG1hbmFnZXItY29udGFpbmVyIHsKICAgIGRpc3BsYXk6IGZsZXg7IC8qIEFjdGl2YXRlcyBGbGV4Ym94IG9uIHRoZSBwYXJlbnQgKi8KICAgIGdhcDogMjBweDsgICAgIC8qIEFkZHMgc3BhY2UgYmV0d2VlbiB0aGUgY2hpbGQgZGl2cyAqLwogICAgaGVpZ2h0OiBjYWxjKHZhcigtLWRvd25sb2FkbWFuYWdlcl93aWR0aCkgLSAxNzBweCk7Cn0KCi5kb3dubG9hZG1hbmFnZXItbGVmdC1kaXYsIC5kb3dubG9hZG1hbmFnZXItcmlnaHQtZGl2IHsKICAgIGZsZXg6IDE7IC8qIE1ha2VzIGJvdGggZGl2cyBncm93IGVxdWFsbHkgdG8gZmlsbCB0aGUgY29udGFpbmVyIHdpZHRoICovCiAgICAvKiBPcHRpb25hbCBzdHlsaW5nICovCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjBmMGYwOwogICAgYm9yZGVyOiAxcHggc29saWQgI2NjYzsKICAgIG92ZXJmbG93OiBhdXRvOwp9CgouZG93bmxvYWRtYW5hZ2VyLWZpbGUgewogICAgcGFkZGluZzogMTZweDsKICAgIGJhY2tncm91bmQtY29sb3I6ICNhZGFkYWQ7CiAgICBjb2xvcjogd2hpdGU7CiAgICBjdXJzb3I6IHBvaW50ZXI7Cn0KCi5kb3dubG9hZG1hbmFnZXItZmlsZS1pbWFnZSB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMCwgMjU1LCAxMjgpOwp9CgouZG93bmxvYWRtYW5hZ2VyLWZpbGUtdmlkZW8gewogICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDE3MywgMCwgMCk7Cn0KCi5kb3dubG9hZG1hbmFnZXItY29udGFpbmVyIGRpdiB7CiAgICAvKiBUbyBjZW50ZXIgY29udGVudCB2ZXJ0aWNhbGx5IGFuZCBob3Jpem9udGFsbHkgd2l0aGluIHRoZSBzcGxpdHMgKi8KICAgIGRpc3BsYXk6IGZsZXg7CiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyAgICAKfQo8L3N0eWxlPgo8ZGl2IGNsYXNzPSJkb3dubG9hZG1hbmFnZXItbXlkaXYiIGlkPSJkb3dubG9hZG1hbmFnZXJ3aW5kb3ciIHN0eWxlPSJ0b3A6IDBweDtsZWZ0OiAwcHg7Ij4KICA8ZGl2IGNsYXNzPSJkb3dubG9hZG1hbmFnZXItbXlkaXZoZWFkZXIiIGlkPSJkb3dubG9hZG1hbmFnZXJ3aW5kb3doZWFkZXIiPgogICAgPHNwYW4gY2xhc3M9InRpdGxlIj5Cb29rbWFya2xldCBEb3dubG9hZCBNYW5hZ2VyPC9zcGFuPgogICAgPGJ1dHRvbiBjbGFzcz0iY2xvc2UiIGlkPSJkb3dubG9hZG1hbmFnZXItY2xvc2UiIG9uY2xpY2s9IgogICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkb3dubG9hZG1hbmFnZXJfZGl2JykpIHsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZG93bmxvYWRtYW5hZ2VyX2RpdicpLnJlbW92ZSgpCiAgICB9CiAgICAiPlg8L2J1dHRvbj4KICA8L2Rpdj4KICA8ZGl2IGNsYXNzPSJib2R5Ij4KICAgIDxkaXYgY2xhc3M9ImRvd25sb2FkbWFuYWdlci1jb250YWluZXIiPgogICAgICAgIDxkaXYgY2xhc3M9ImRvd25sb2FkbWFuYWdlci1sZWZ0LWRpdiIgaWQ9ImRvd25sb2FkbWFuYWdlcl9maWxlcyI%2BCiAgICAgICAgPC9kaXY%2BCiAgICAgICAgPGRpdiBjbGFzcz0iZG93bmxvYWRtYW5hZ2VyLXJpZ2h0LWRpdiIgaWQ9ImRvd25sb2FkbWFuYWdlcl9wcmV2aWV3Ij4KICAgICAgICAgICAgPCEtLSBDb250ZW50IGZvciB0aGUgcmlnaHQgc2VjdGlvbiAtLT4KICAgICAgICAgICAgPGgyPlJpZ2h0IFNpZGU8L2gyPgogICAgICAgICAgICA8cD5UaGlzIGRpdiBpcyBvbiB0aGUgcmlnaHQuPC9wPgogICAgICAgIDwvZGl2PgogICAgPC9kaXY%2BCiAgPC9kaXY%2BCjwvZGl2Pgo8aW1nIHNyYz0iZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBRUFBQUFCQVFNQUFBQWwyMWJLQUFBQUExQk1WRVVBQUFDbmVqM2FBQUFBQVhSU1RsTUFRT2JZWmdBQUFBcEpSRUZVQ05kallBQUFBQUlBQWVJaHZETUFBQUFBU1VWT1JLNUNZSUk9IiBhbHQ9IlRyYW5zcGFyZW50IHBpeGVsIiBvbmxvYWQ9Igp2YXIgYWxsaW1hZ2VlbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2ltZycpCnZhciBhbGx2aWRlb2VsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgndmlkZW8nKQoKLy8gdGhpcyBzY3JpcHQgaXMgZnJvbSB3M3NjaG9vbHMuY29tCgpmdW5jdGlvbiBkcmFnRWxlbWVudChlbG1udCkgewogIHZhciBwb3MxID0gMCwgcG9zMiA9IDAsIHBvczMgPSAwLCBwb3M0ID0gMDsKICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxtbnQuaWQgKyAnaGVhZGVyJykpIHsKICAgIC8qIGlmIHByZXNlbnQsIHRoZSBoZWFkZXIgaXMgd2hlcmUgeW91IG1vdmUgdGhlIERJViBmcm9tOiovCiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbG1udC5pZCArICdoZWFkZXInKS5vbm1vdXNlZG93biA9IGRyYWdNb3VzZURvd247CiAgfSBlbHNlIHsKICAgIC8qIG90aGVyd2lzZSwgbW92ZSB0aGUgRElWIGZyb20gYW55d2hlcmUgaW5zaWRlIHRoZSBESVY6Ki8KICAgIGVsbW50Lm9ubW91c2Vkb3duID0gZHJhZ01vdXNlRG93bjsKICB9CgogIGZ1bmN0aW9uIGRyYWdNb3VzZURvd24oZSkgewogICAgZSA9IGUgfHwgd2luZG93LmV2ZW50OwogICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgLy8gZ2V0IHRoZSBtb3VzZSBjdXJzb3IgcG9zaXRpb24gYXQgc3RhcnR1cDoKICAgIHBvczMgPSBlLmNsaWVudFg7CiAgICBwb3M0ID0gZS5jbGllbnRZOwogICAgZG9jdW1lbnQub25tb3VzZXVwID0gY2xvc2VEcmFnRWxlbWVudDsKICAgIC8vIGNhbGwgYSBmdW5jdGlvbiB3aGVuZXZlciB0aGUgY3Vyc29yIG1vdmVzOgogICAgZG9jdW1lbnQub25tb3VzZW1vdmUgPSBlbGVtZW50RHJhZzsKICB9CgogIGZ1bmN0aW9uIGVsZW1lbnREcmFnKGUpIHsKICAgIGUgPSBlIHx8IHdpbmRvdy5ldmVudDsKICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgIC8vIGNhbGN1bGF0ZSB0aGUgbmV3IGN1cnNvciBwb3NpdGlvbjoKICAgIHBvczEgPSBwb3MzIC0gZS5jbGllbnRYOwogICAgcG9zMiA9IHBvczQgLSBlLmNsaWVudFk7CiAgICBwb3MzID0gZS5jbGllbnRYOwogICAgcG9zNCA9IGUuY2xpZW50WTsKICAgIC8vIHNldCB0aGUgZWxlbWVudHMgbmV3IHBvc2l0aW9uOgogICAgZWxtbnQuc3R5bGUudG9wID0gKGVsbW50Lm9mZnNldFRvcCAtIHBvczIpICsgJ3B4JzsKICAgIGVsbW50LnN0eWxlLmxlZnQgPSAoZWxtbnQub2Zmc2V0TGVmdCAtIHBvczEpICsgJ3B4JzsKICB9CgogIGZ1bmN0aW9uIGNsb3NlRHJhZ0VsZW1lbnQoKSB7CiAgICAvKiBzdG9wIG1vdmluZyB3aGVuIG1vdXNlIGJ1dHRvbiBpcyByZWxlYXNlZDoqLwogICAgZG9jdW1lbnQub25tb3VzZXVwID0gbnVsbDsKICAgIGRvY3VtZW50Lm9ubW91c2Vtb3ZlID0gbnVsbDsKICB9Cn0KZHJhZ0VsZW1lbnQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rvd25sb2FkbWFuYWdlcndpbmRvdycpKTsKCi8vIGltYWdlcwpmb3IgKGxldCBpID0gMDsgaSA8IGFsbGltYWdlZWxlbWVudHMubGVuZ3RoOyBpKyspIHsKICAgIGNvbnN0IGZpbGVidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJykKCiAgICBmaWxlYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2Rvd25sb2FkbWFuYWdlci1maWxlJykKICAgIGZpbGVidXR0b24uY2xhc3NMaXN0LmFkZCgnZG93bmxvYWRtYW5hZ2VyLWZpbGUtaW1hZ2UnKQogICAgZmlsZWJ1dHRvbi5pbm5lckhUTUwgPSBhbGxpbWFnZWVsZW1lbnRzW2ldLnNyYwogICAgZmlsZWJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ29uY2xpY2snLCBgCgogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rvd25sb2FkbWFuYWdlcl9wcmV2aWV3JykuaW5uZXJIVE1MID0gJyc7CiAgICBjb25zdCBwaWN0dXJldmlld2VyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7CiAgICBwaWN0dXJldmlld2VyLnNldEF0dHJpYnV0ZSgnc3JjJywgJyR7YWxsaW1hZ2VlbGVtZW50c1tpXS5zcmN9Jyk7CiAgICBwaWN0dXJldmlld2VyLndpZHRoID0gMjAwOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rvd25sb2FkbWFuYWdlcl9wcmV2aWV3JykuYXBwZW5kQ2hpbGQocGljdHVyZXZpZXdlcik7CgogICAgYCkKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkb3dubG9hZG1hbmFnZXJfZmlsZXMnKS5hcHBlbmRDaGlsZChmaWxlYnV0dG9uKQp9CgovLyB2aWRlb3MKZm9yIChsZXQgaSA9IDA7IGkgPCBhbGx2aWRlb2VsZW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICBjb25zdCBmaWxlYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpCgogICAgZmlsZWJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdkb3dubG9hZG1hbmFnZXItZmlsZScpCiAgICBmaWxlYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2Rvd25sb2FkbWFuYWdlci1maWxlLXZpZGVvJykKICAgIGZpbGVidXR0b24uaW5uZXJIVE1MID0gYWxsdmlkZW9lbGVtZW50c1tpXS5zcmMKICAgIGZpbGVidXR0b24uc2V0QXR0cmlidXRlKCdvbmNsaWNrJywgYAoKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkb3dubG9hZG1hbmFnZXJfcHJldmlldycpLmlubmVySFRNTCA9ICcnOwogICAgY29uc3QgdmlkZW9wbGF5ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpOwoKICAgIHZpZGVvcGxheWVyLnNldEF0dHJpYnV0ZSgnc3JjJywgJyR7YWxsdmlkZW9lbGVtZW50c1tpXS5zcmN9Jyk7CiAgICB2aWRlb3BsYXllci53aWR0aCA9IDIwMDsKICAgIHZpZGVvcGxheWVyLmhlaWdodCA9IDIwMDsKICAgIHZpZGVvcGxheWVyLmNvbnRyb2xzID0gdHJ1ZTsKCiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZG93bmxvYWRtYW5hZ2VyX3ByZXZpZXcnKS5hcHBlbmRDaGlsZCh2aWRlb3BsYXllcik7CiAgICAKICAgIGApCiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZG93bmxvYWRtYW5hZ2VyX2ZpbGVzJykuYXBwZW5kQ2hpbGQoZmlsZWJ1dHRvbikKfQoKLyoKZnVuY3Rpb24gc2hvd2ltYWdlKHVybCkgewogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rvd25sb2FkbWFuYWdlcl9wcmV2aWV3JykuaW5uZXJIVE1MID0gJyc7CiAgICB2YXIgcGljdHVyZXZpZXdlciA9IGRvY3VtZW50LmNyZWF0ZUF0dHJpYnV0ZSgnaW1nJyk7CgogICAgcGljdHVyZXZpZXdlci5zcmMgPSB1cmw7CiAgICBwaWN0dXJldmlld2VyLnN0eWxlLndpZHRoID0gJzIwMHB4JwoKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkb3dubG9hZG1hbmFnZXJfcHJldmlldycpLmFwcGVuZENoaWxkKHBpY3R1cmV2aWV3ZXIpOwp9CiovCgpmdW5jdGlvbiBzaG93dmlkZW8odXJsKSB7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZG93bmxvYWRtYW5hZ2VyX3ByZXZpZXcnKS5pbm5lckhUTUwgPSAnJzsKICAgIGNvbnN0IHZpZGVvcGxheWVyID0gZG9jdW1lbnQuY3JlYXRlQXR0cmlidXRlKCd2aWRlbycpOwoKICAgIHZpZGVvcGxheWVyLnNyYyA9IHVybDsKICAgIHZpZGVvcGxheWVyLnN0eWxlLndpZHRoID0gMjAwICsgJ3B4JzsKICAgIHZpZGVvcGxheWVyLnN0eWxlLmhlaWdodCA9IDIwMCArICdweCc7CgogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rvd25sb2FkbWFuYWdlcl9wcmV2aWV3JykuYXBwZW5kQ2hpbGQodmlkZW9wbGF5ZXIpOwp9CiI%2BCgoKCgoK%22%3B%0A%0Avar%20downloadmanager_div%20%3D%20document.createElement(%22div%22)%3B%0Adownloadmanager_div.id%20%3D%20%22downloadmanager_div%22%3B%0Adownloadmanager_div.innerHTML%20%3D%20atob(downloadmanager_html)%3B%0Adocument.body.appendChild(downloadmanager_div)%3B%7D)()%3B">Bookmarklet Download Manager</a>
